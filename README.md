# EcoPark | AI Fitness Level Predictor üë®‚Äçüíª
NOTE: This implementation is included in a project carried out at VIA University College.

## Introduction üèãÔ∏è‚Äç‚ôÇÔ∏èüí°
Nowadays, it is known that sports halls consume a lot of electricity and do not collect energy. In fact, between the machines that need electricity, the lights to light up the gym, the air conditioning systems to ventilate the sports halls... the sports halls require a lot of energy. Moreover, the climate crisis is gathering pace and it is important to do something about it instead of just watching our lives deteriorate drastically in the coming years.

Therefore, the project that will be focused on in this report is the launch of a self-sufficient fitness club. This is an innovation that does not exist in Denmark and aims to transform the energy of the athletes (when they exercise) into electricity that will be reused in the gym. To do this, when the machines are running, the energy will be collected by an alternator which will then convert this energy to electricity to provide the fitness club. This is why it can be called an autonomous gym. There are different types of machines that can create energy such as bikes, treadmills, and rowing machines... The aim is to promote ecology, to make the gym as autonomous and ecological as possible, whilereinforcing the motivation of the members who will not only come to do sport but also to do good for the planet in order to move towards to a more eco-responsible world.

This idea came about because an ecological trend has been felt for a few years, there is therefore a market share to take in this area. Furthermore, it is important to remember that Denmark is a country known for being ecologically oriented, so it seemed appropriate to work on a concept like this. To finish, the idea was to work on a concept that makes sense and that would advance one of the most significant problems for the planet: climate change.

## Objective üéØ
The EcoPark gym that is being developed can welcome all kinds of customers, from beginners who have never been to a gym before to elite athletes. The energy generated by the machines is used to supply electricity to the gym itself, so it is interesting to know whether a user is able to generate more or less electricity for the gym.

The idea is to create an artificial intelligence capable of predicting whether a user is in good fitness or not, based on their answers to a series of questions (like a questionnaire). This will be helpful to know if that user is going to be of much help to generate electricity (in the case that he/she is in good physical condition) or, on the contrary, if he/she will not be of many benefits to the gym.

In other words, the goal is to find the ideal client for the gym, so that, as project developers, the team has knowledge of which athletes are most effective for the gym's purpose: to be self-sufficient.

## Content of the program üíª
This is a classification problem, where the result is a class, among a limited number of classes (in this case fitness level). First, the problem is described as we have decided to approach it. Then it is made a data understanding, where the data is visualized and analyzed in a general way and go through each of the columns to obtain new conclusions about the data. Finally, some iterations are performed where in each iteration the data is treated differently and a different model is used to train and validate the prediction obtained. The idea is that, for each iteration, the way in which the data are processed is improved and the results are optimized.

The program is fully documented with graphs and descriptions of how the code works.

## How does it work? ‚öô
To make the program work as realistically as possible, it uses a real database obtained from the Kaggle website, a repository of databases used for this type of project. In other words, this data has NOT been collected by the project group. For the correct development of the AI, a massive amount of data is necessary, and using a dataset that has already been created has allowed for saving time and obtaining accurate results.

The database is a simple worksheet (table), where each column is a question related to sport or health and each row is each of the participants who have answered the questions. For example, one of the questions is "How long do you spend exercising per day?", and the possible answers are "30 min", "1 hour", "2 hours", "3 hours and above" or "I don't really exercise".

Three different iterations have been carried out. In each iteration, the way in which the data is treated and the model used has been modified. The model is the technique or algorithm used to teach the AI how to learn from the data.

## Database treatment üßÆ
As discussed above, during AI development there are up to three iterations, in which modifications are applied to the database to adapt it to the needs of the model of that same iteration. The aim of data processing is to help simplify and make the prediction of the answers more effective while avoiding data loss and instability as much as possible.

The following is a summary of the different treatments of the columns throughout the three iterations executed, depending on the type of question it contains. In the program, the reason for each modification and the results obtained can be seen in greater detail. The dataset we are working with contains three different types of answers:


**Open answers**

Open answers are answers that are unique for each user or that are repeated very few times. This is the case for the columns on the name and the Timestamp (date and time at which the answer is recorded in the database).

As this data is practically unique and irrelevant to the user's fitness level, the only treatment applied at each iteration for this type of column is to remove it completely. They are irrelevant to the objective of the project and do not affect the final result at all.


**Single answer multiple choice**

These answers consist of choosing one option from all available options and may contain numerical or non-numerical options. For example, one of the questions is "What time of the day do you prefer to exercise?", and the possible answers are "Early morning", "afternoon" or "evening".

In this case, these are the most common columns in the dataset and provide the most information. The most important treatment is to change all possible answers to numerical values. This is because the sklearn library models only work with numbers and cannot process strings. That is why each answer is assigned a number, it doesn't matter what it is as long as it is different from the rest of the answers.

On the other hand, to simplify the answers, it has also been tried to group similar answers in the same numerical value, so there is less dispersion in the data and a better balance is maintained. Finally, we have even tried removing the column altogether to check whether the answers were actually beneficial to the model or only negatively affected the accuracy.


**Multiple choice answers**

In these questions, one or several answers can be chosen at the same time, so a single user can have a list of several answers in a row. For example, one of the questions is "What forms of exercise do you currently participate in?", and the possible answers are "Walking or jogging", "gym", "swimming", "yoga", "Zumba dance", "lifting weights", "team sport" or "I don't really exercise".

Although these types of answers could be useful for the development of the model, the fact that they mix options and create a large number of possible combinations of answers makes the column almost unusable and intractable. Therefore, the quickest and most straightforward solution is to remove the column and ignore it in the prediction of answers. Alternatively, a possible and also tested modification is to change all possible combinations of answers that appear by numerical values, grouping those that are similar or closely related to each other. In this way, they can be used in a certain way for the model.

Finally, regardless of the type of answer, outliers can be eliminated automatically to improve the final result. An outlier is an abnormal and extreme observation in a temporal sample of data that can potentially affect the estimation of the parameters of the data. In other words, it would be an observation within a data set that is not consistent with the rest. To prevent these anomalies from affecting the model, there are several techniques to remove a certain number of entries or rows that exceed the mean by more than normal. In this case, the Interquartile Range (IQR) method has been applied, which is based on the position of the quartiles, at 25% and 75%. Different combinations of percentages have also been tested but the results obtained are always similar or worse.

## Results obtained üìä
Throughout the program, multiple tests and different combinations of parameters have been carried out so that in the end the configurations that have given the best results have been maintained. For each iteration, the accuracy has improved significantly, which means that the processing of the data and the updating of the models have been quite efficient. The best result was obtained in the third iteration, with up to **68%** accuracy. This means that in 68% of the cases, the model predicts the correct fitness level from the rest of the answers in the different columns. The model used was Random Forest, which is best suited to the situation and the database used.

Three fitness levels are differentiated: 0, 1, and 2, from lowest to highest. Regarding the amount of energy generated by the users, approximately (depending on the machines used) this would be the number of volts generated by each user depending on the fitness level:
- Level 0 (Unfit): 18-30 watts/hour
- Level 1 (Average): 36-60 watt/hour
- Level 2 (Good physical fitness): 55-90 watt/hour

Finally, it can be concluded that it is possible to create a machine learning AI capable of answering whether the gym client is efficient or not for electricity generation.
